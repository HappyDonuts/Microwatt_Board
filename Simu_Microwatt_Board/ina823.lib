*$
* INA823
*****************************************************************************
* (C) Copyright 2021 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: Online Design Tools, Texas Instruments Inc.
* Part: INA823
* Date: 23NOV2021
* Model Type: Generic (suitable for all analysis types)
* EVM Order Number: N/A 
* EVM Users Guide:  N/A 
* Datasheet: SBOSA75B - JULY 2021 - REVISED NOVEMBER 2021
* Created with Green-Williams-Lis Op Amp Macro-model Architecture
* Created by: Srivatsan Sathyamoorthy
*
* Model Version: Final 1.0
*
*****************************************************************************
*
* Final 1.0
* Release to Web.
*
****************************************************************************
* 
* INA823 - Rev. A
* Created by Srivatsan Sathyamoorthy; 2021-11-23
* Created with Green-Williams-Lis Current Sense Amp Macro-model Architecture
* Copyright 2021 by Texas Instruments Corporation
* 
******************************************************
* MACRO-MODEL SIMULATED PARAMETERS:
******************************************************
* AC PARAMETERS
**********************
* CLOSED-LOOP OUTPUT IMPEDANCE VS. FREQUENCY (Zout vs. Freq.)
* CLOSED-LOOP GAIN AND PHASE VS. FREQUENCY  WITH RL, CL EFFECTS (Acl vs. Freq.) G=1,10,100,1000
* COMMON-MODE REJECTION RATIO VS. FREQUENCY (CMRR vs. Freq.) G=1
* POWER SUPPLY REJECTION RATIO VS. FREQUENCY (PSRR vs. Freq.) G=1
* INPUT VOLTAGE NOISE DENSITY VS. FREQUENCY (en vs. Freq.) G=1,10,100,1000
**********************
* DC PARAMETERS
**********************
* INPUT COMMON-MODE VOLTAGE RANGE (Vcm)
* GAIN ERROR (Eg)
* INPUT BIAS CURRENT VS. INPUT COMMON-MODE VOLTAGE (Ib vs. Vcm)
* INPUT OFFSET VOLTAGE VS. TEMPERATURE (Vos vs. Temp)
* OUTPUT VOLTAGE SWING vs. OUTPUT CURRENT (Vout vs. Iout) VS=30
* SHORT-CIRCUIT OUTPUT CURRENT (Isc) VS=30
* QUIESCENT CURRENT (Iq)
**********************
* TRANSIENT PARAMETERS
**********************
* SLEW RATE (SR)
* SETTLING TIME VS. CAPACITIVE LOAD (ts)
* OVERLOAD RECOVERY TIME (tor)
******************************************************
.subckt INA823 IN+ IN- OUT REF RG+ RG- VS+ VS-
******************************************************
*
*
C_C1         DIFFO DIFFN  1P   
C_C2         DIFFP N1971430  550F   
C_C_CM1         MID INP  1P   
C_C_CM2         MID INN  1P   
C_C_CM3         MID N1999738  1P   
C_C_CMN1         MID N1382097  8.5P   
C_C_CMP1         N1382279 MID  8.5P   
C_C_GS1         NODE+ N1955931  1.5P   
C_C_GS2         NODE- N1955961  1.5P   
E_E1         N1971430 MID N1999738 MID 1
G_GM1         N1955961 RG- INN RG- 122U
G_GM2         N1955931 RG+ INP RG+ 122U
I_IB1         N1952540 MID DC 2.4N  
I_IOS1         N1952552 MID DC 1.6N  
I_IQ         VS+ VS- DC 180UADC  
I_I_SINK1         RG- VEE_B DC 80UADC  
I_I_SINK2         RG+ VEE_B DC 80UADC  
J_J1         INS_PJFET1 N1980379 N1382279 PJFET_INA823 
J_J2         INS_PJFET1 N1980383 N1980379 PJFET_INA823 
J_J3         N1980379 N1980383 N1382279 PJFET_INA823 
J_J4         INS_PJFET2 N1980745 N1980801 PJFET_INA823 
J_J5         N1980801 N1980745 N1382097 PJFET_INA823 
J_J6         INS_PJFET2 N1980801 N1382097 PJFET_INA823 
R_RCM1         MID N1953614 R_NOISELESS 100G
R_RCM10         MID N1999642 R_NOISELESS 100G
R_RCM11         N1999728 N1999738 R_NOISELESS 100M
R_RCM12         N1999728 MID R_NOISELESS 1
R_RCM13         N1999814 MID R_NOISELESS 100G
R_RCM3         N1954301 INP R_NOISELESS 100M
R_RCM4         N1954301 MID R_NOISELESS 1
R_RCM5         N1953620 MID R_NOISELESS 100G
R_RCM6         MID N1953662 R_NOISELESS 100G
R_RCM7         N1954725 MID R_NOISELESS 1
R_RCM8         N1954725 INN R_NOISELESS 100M
R_RCM9         N1953668 MID R_NOISELESS 100G
R_RDIFF1         DIFFO DIFFN  50K TC=0,0 
R_RDIFF2         DIFFN NODE-  50K TC=0,0 
R_RDIFF3         DIFFP NODE+  50K TC=0,0 
R_RDIFF4         DIFFP N1971430  50.00031K TC=0,0 
R_RF1         RG- NODE-  50K TC=0,0 
R_RF2         RG+ NODE+  50K TC=0,0 
R_RIN1         INS_PJFET1 IN+ R_NOISELESS 10M
R_RIN2         N1953182 N1952540 R_NOISELESS 10M
R_RIN3         OUT DIFFO R_NOISELESS 10M
R_RIN4         INS_PJFET2 IN- R_NOISELESS 10M
R_RIN5         N1953236 N1952552 R_NOISELESS 10M
R_R_CMN1         N1382097 MID R_NOISELESS 12G
R_R_CMP1         MID N1382279 R_NOISELESS 12G
R_R_GS1         N1955961 VCC_B  12.5K  
R_R_GS2         N1955931 VCC_B  12.5K  
V_VB1         VCC_B N1955919 1VDC
V_VCM_MAX1         N1953614 VCC_B -1VDC
V_VCM_MAX2         N1953668 VCC_B -1VDC
V_VCM_MAX3         N1999642 VCC_B 0VDC
V_VCM_MIN1         N1953620 VEE_B -0.15VDC
V_VCM_MIN2         N1953662 VEE_B -0.15VDC
V_VCM_MIN3         N1999814 VEE_B 0VDC
X_MID_NODE_BLOCK1 MID VS+ VCC_B VS- VEE_B INA823_MID  
X_U1         N1382279 VS+ VS- ESD_OUT_INA823
X_U10         REF VS+ VS- ESD_OUT_INA823
X_U11         N1953236 MID N1954725 MID N1953668 N1953662 VCM_CLAMP_INA823 PARAMS: 
+  GAIN=1
X_U12         N1382097 N1952552 VNSE1_INA823 PARAMS:  FLW=100M NLF=50 NVR=10.56
X_U13         N1382097 VS+ VS- ESD_OUT_INA823
X_U14         REF MID N1999728 MID N1999642 N1999814 VCM_CLAMP_INA823 PARAMS:  GAIN=1
X_U15         N1955919 N1955961 NODE- MID VS+ VCC_B VEE_B VS- INA823_A1
X_U16         N1955919 N1955931 NODE+ MID VCC_B VS+ VS- VEE_B INA823_A1
X_U17         MID DIFFO DIFFP DIFFN VS+ VCC_B VS- VEE_B INA823_A3
X_U2         N1382279 N1952540 VNSE1_INA823 PARAMS:  FLW=100M NLF=50 NVR=10.56
X_U3         N1983400 N1953182 VOS_DRIFT_INA823 PARAMS:  DC=20U POL=1 DRIFT=200N
X_U4         N1983400 MID N1954301 MID N1953614 N1953620 VCM_CLAMP_INA823 PARAMS: 
+  GAIN=1
X_U5         MID N1952540 FEMT2_INA823 PARAMS: FLWF=0.1 NLFF=518 NVRF=120
X_U6         RG+ VS+ VS- ESD_OUT_INA823
X_U7         OUT VS+ VS- ESD_OUT_INA823
X_U8         RG- VS+ VS- ESD_OUT_INA823
X_U9         N1952552 MID FEMT2_INA823 PARAMS: FLWF=0.1 NLFF=518 NVRF=120
.ENDS  INA823
*
.SUBCKT ESD_OUT_INA823 OUT VCC VEE
.MODEL ESD_SW VSWITCH(RON=50 ROFF=1E12 VON=500E-3 VOFF=100E-3)
S1 VCC OUT OUT VCC ESD_SW
S2 OUT VEE VEE OUT ESD_SW
.ENDS  ESD_OUT_INA823
*
.SUBCKT FEMT2_INA823  1 2 PARAMS: NLFF = 0.1 FLWF = 0.001 NVRF = 0.1
.PARAM GLFF={PWR(FLWF,0.25)*NLFF/1164}
.PARAM RNVF={1.184*PWR(NVRF,2)}
.MODEL DVNF D KF={PWR(FLWF,0.5)/1E11} IS=1.0E-16
I1 0 7 10E-3
I2 0 8 10E-3
D1 7 0 DVNF
D2 8 0 DVNF
E1 3 6 7 8 {GLFF}
R1 3 0 1E9
R2 3 0 1E9
R3 3 6 1E9
E2 6 4 5 0 10
R4 5 0 {RNVF}
R5 5 0 {RNVF}
R6 3 4 1E9
R7 4 0 1E9
G1 1 2 3 4 1E-6
C1 1 0 1E-15
C2 2 0 1E-15
C3 1 2 1E-15
.ENDS  FEMT2_INA823
*
.SUBCKT INA823_MID MID VCC VCC_B VEE VEE_B  
R_R_MID9         N1957837 N1957697 R_NOISELESS 1MEG
R_R_MID10         N1957697 N1957877 R_NOISELESS 1MEG
R_R_MID8         VCC_B N1957837 R_NOISELESS 1M
C_C29         0 N1957877  1F   
R_R_MID14         VEE_B 0 R_NOISELESS 1
R_R_MID11         N1957877 VEE_B R_NOISELESS 1M
G_G_VEE_BUFFER2         VEE_B 0 VEE 0 -1
G_G_VCC_BUFFER2         VCC_B 0 VCC 0 -1
R_R_MID12         VCC_B 0 R_NOISELESS 1
C_C27         0 N1957837  1F   
C_C28         0 N1957697  10U   
E_E_MID2         MID 0 N1957697 0 1
R_R_MID13         N1957697 0 R_NOISELESS 1T
.ENDS  INA823_MID
*
.model PJFET_INA823 PJF (BETA=5.8m BETATCE=-.5 VTO=-500m VTOTC=-2.5m LAMBDA=2.95m RD=3.5 RS=4.2 N=1 M=0.7 PB=0.705 IS=5.34f CGD=6.3p CGS=20.3p)
*$
*
.SUBCKT VCM_CLAMP_INA823 VIN+ VIN- IOUT- IOUT+ VP+ VP- PARAMS: GAIN=1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VIN+,VIN-),V(VP-,VIN-), V(VP+,VIN-))}
.ENDS  VCM_CLAMP_INA823
*
.SUBCKT VNSE1_INA823 1 2 PARAMS: FLW=1 NLF=120 NVR=18
.PARAM GLF={PWR(FLW,0.25)*NLF/1164}
.PARAM RNV={1.184*PWR(NVR,2)}
.MODEL DVN D KF={PWR(FLW,0.5)/1E11} IS=1.0E-16
I1 0 7 10E-3
I2 0 8 10E-3
D1 7 0 DVN
D2 8 0 DVN
E1 3 6 7 8 {GLF}
R1 3 0 1E9
R2 3 0 1E9
R3 3 6 1E9
E2 6 4 5 0 10
R4 5 0 {RNV}
R5 5 0 {RNV}
R6 3 4 1E9
R7 4 0 1E9
E3 1 2 3 4 1
.ENDS  VNSE1_INA823
*
.SUBCKT VOS_DRIFT_INA823 VOS+ VOS- PARAMS: DC=496.4E-6 POL=1 DRIFT=2E-06
E1 VOS+ VOS- VALUE={DC+POL*DRIFT*(TEMP-27)}
.ENDS  VOS_DRIFT_INA823
*
.MODEL R_NOISELESS RES (T_ABS=-273.15)
*
*
*
*
******************************************************
.subckt INA823_A3 MID OUT_AMP OUT_IN+ OUT_IN- VCC VCC_B VEE VEE_B
******************************************************
*
C_C10         N1992740 N1992750  32P   
C_C11         N1992720 N1992730  32P   
C_C12         N1992700 N1992710  2.27N   
C_C13         MID N2008959  63.66F   
C_C14         MID N2008991  63.66F   
C_C17         VCLP MID  1P   
C_C18         N1943596 N1941042  26.5P   
C_C19         MID CLAMP  125N   
C_C20         MID N1947403  8F   
C_C21         MID N1951013  8F   
C_C22         MID N1972538  8F   
C_C23         MID SW_OL_INA823_A3  1N   
C_C24         MID N2174763  1P   
C_C25         MID N2174685  1P   
C_C26         VIMON_OUT MID  1P   
C_C5         N2008563 N2008573  15.92P   
C_C6         N2008603 N2008611  530P   
C_C7         N2008621 N2008631  17.68P   
C_C8         N2008583 N2008593  40N   
C_CA1_18         MID N2179218  1F   
C_CA1_19         MID N2179236  1F   
C_CA1_20         MID N2179470  1F   
C_CA3_1         MID N2108106  1F   
C_CA3_2         MID N2122915  1F   
C_CA3_3         N2097873 MID  1F   
C_CA3_4         MID N2098007  1F   
C_CA3_5         MID N2108304  1F   
C_CA3_6         MID N2123113  1F   
C_CA3_CM1         MID N1987893  1P   
C_CA3_CMN1         N1937990 MID  1P   
C_CA3_CMP1         MID N1957304  1P   
C_CA3_DIFF1         N1957304 N1937990  1P   
C_CZO1         N1931165 N1931868  279.2N   
C_CZO2         N1935319 N1936060  289F   
C_CZO3         MID N1933415  22P   
C_CZO4         MID N1935287  318F   
C_C_VOUTS1         VOUT_S MID  1P   
E_E10         N2025791 MID OUT_AMP1 MID 1
E_E9         N2067632 MID CLAW_CLAMP MID 1
G_G1         N2174063 MID N2174357 MID -1
G_G10         CLAW_CLAMP MID CL_CLAMP MID -1M
G_G2         N2174101 MID N2174433 MID -1
G_G3         VSENSE MID CLAMP MID -1M
G_G4         N1941042 MID VSENSE MID -1
G_G5         N1944620 MID N1943596 MID -3.33
G_G6         N1947403 MID N1944620 MID -1U
G_G7         N1951013 MID N1947403 MID -1U
G_G8         N1972538 MID N1951013 MID -1U
G_G9         CL_CLAMP MID N1972538 MID -1M
G_GA3_1         VCC_CLP MID N2097873 MID -1M
G_GA3_2         VEE_CLP MID N2098007 MID -1M
G_GA3_AOLZO1         N1931165 MID CLAW_CLAMP OUT_AMP1 -88.9
G_GA3_AOLZO2         N1932422 MID N1931868 MID -149.1
G_GA3_AOLZO3         N1933733 MID N1933148 MID -1
G_GA3_AOLZO4         N1935319 MID N1935247 MID -1
G_G_PSR1         N2008563 MID VEE_B MID 0.881M
G_G_PSR12         N1992740 MID N1992730 MID -14
G_G_PSR13         N1992720 MID N1992710 MID -14
G_G_PSR14         N1992700 MID VCC_B MID 113M
G_G_PSR15         N2013478 N2013470 PSRR+ PSRR- -1M
G_G_PSR2         N2008583 MID N2008573 MID -21.5
G_G_PSR3         N2008603 MID N2008593 MID -16.7
G_G_PSR4         N2008621 MID N2008611 MID -7.78
G_G_PSR5         N2008641 MID N2008631 MID -1
G_G_PSR6         N2008669 MID N2008651 MID -1
G_G_PSR7         PSRR- MID N2008631 MID -1
G_G_PSR8         PSRR+ MID N1992750 MID -1
R_870         N2008593 MID R_NOISELESS 417
R_R11         N2008641 N2008651 R_NOISELESS 347.1K
R_R12         N2008651 N2008959 R_NOISELESS 10K
R_R13         N2008679 N2008991 R_NOISELESS 10K
R_R16         N2008573 N2008563 R_NOISELESS 100MEG
R_R17         N2008593 N2008583 R_NOISELESS 10K
R_R18         N2008611 N2008603 R_NOISELESS 10K
R_R19         N2008631 N2008621 R_NOISELESS 10K
R_R21         N1992750 N1992740 R_NOISELESS 10K
R_R22         N1992730 N1992720 R_NOISELESS 10K
R_R23         N1992710 N1992700 R_NOISELESS 100MEG
R_R24         N2008573 MID R_NOISELESS 20K
R_R25         N2008583 MID R_NOISELESS 1
R_R27         N2008603 MID R_NOISELESS 1
R_R28         N2008611 MID R_NOISELESS 638
R_R29         N2008621 MID R_NOISELESS 1
R_R30         N2008631 MID R_NOISELESS 1.475K
R_R31         N2008641 MID R_NOISELESS 1
R_R32         N2008669 MID R_NOISELESS 1
R_R33         PSRR- MID R_NOISELESS 1
R_R34         PSRR+ MID R_NOISELESS 1
R_R39         N1992750 MID R_NOISELESS 770
R_R40         N1992740 MID R_NOISELESS 1
R_R41         N1992730 MID R_NOISELESS 770
R_R42         N1992720 MID R_NOISELESS 1
R_R43         N1992710 MID R_NOISELESS 280
R_R44         N2174063 MID R_NOISELESS 1
R_R45         N2174101 MID R_NOISELESS 1
R_R46         N2067632 VCLP R_NOISELESS 100
R_R47         N1943596 N1941042 R_NOISELESS 10K
R_R48         MID N1938005 R_NOISELESS 1MEG
R_R49         MID CLAMP R_NOISELESS 1MEG
R_R50         MID VSENSE R_NOISELESS 1K
R_R51         MID N1941042 R_NOISELESS 1
R_R52         MID N1944620 R_NOISELESS 1
R_R53         MID N1947403 R_NOISELESS 1MEG
R_R54         MID N1951013 R_NOISELESS 1MEG
R_R55         MID N1972538 R_NOISELESS 1MEG
R_R56         MID CLAW_CLAMP R_NOISELESS 1K
R_R57         MID N1943596 R_NOISELESS 4.29K
R_R58         MID CL_CLAMP R_NOISELESS 1K
R_R59         V11 N2174685 R_NOISELESS 100
R_R60         N2174699 SW_OL_INA823_A3 R_NOISELESS 100
R_R61         V12 N2174763 R_NOISELESS 100
R_R62         N2174699 MID R_NOISELESS 1
R_R63         N1960143 VIMON_OUT R_NOISELESS 100
R_R64         MID N1960143 R_NOISELESS 1T
R_R8         N2008669 N2008679 R_NOISELESS 347.1K
R_RA1_41         N2179224 MID R_NOISELESS 1T
R_RA1_42         N2179232 MID R_NOISELESS 1
R_RA1_43         N2179218 VSENSE R_NOISELESS 1M
R_RA1_44         N2179236 N2179232 R_NOISELESS 1M
R_RA1_45         N2179470 N2179456 R_NOISELESS 1M
R_RA1_46         N2179494 MID R_NOISELESS 1T
R_RA1_47         N2179456 MID R_NOISELESS 1
R_RA1_48         N2122915 N2122911 R_NOISELESS 1M
R_RA1_49         N2123113 N2123099 R_NOISELESS 1M
R_RA3_1         VCC_CLP MID R_NOISELESS 1T
R_RA3_10         N2097985 N2098007 R_NOISELESS 1M
R_RA3_11         N2097985 VEE_B R_NOISELESS 1K
R_RA3_12         VEE_CLP MID R_NOISELESS 1K
R_RA3_13         VEE_CLP MID R_NOISELESS 1T
R_RA3_14         N2108290 MID R_NOISELESS 1
R_RA3_15         N2123099 MID R_NOISELESS 1
R_RA3_16         N2123137 MID R_NOISELESS 1T
R_RA3_2         N2108102 MID R_NOISELESS 1
R_RA3_3         N2122903 MID R_NOISELESS 1T
R_RA3_4         N2122911 MID R_NOISELESS 1
R_RA3_5         VCC_B N2097863 R_NOISELESS 1K
R_RA3_6         MID VCC_CLP R_NOISELESS 1K
R_RA3_7         N2108106 N2108102 R_NOISELESS 1M
R_RA3_8         N2097863 N2097873 R_NOISELESS 1M
R_RA3_9         N2108304 N2108290 R_NOISELESS 1M
R_RA3_CM1         MID N1990860 R_NOISELESS 100G
R_RA3_CM2         N1990940 N1987893 R_NOISELESS 100M
R_RA3_CM3         N1990940 MID R_NOISELESS 1
R_RA3_CM4         N1991030 MID R_NOISELESS 100G
R_RA3_CMN1         MID N1937990 R_NOISELESS 100G
R_RA3_CMP1         N1957304 MID R_NOISELESS 100G
R_RA3_IN1         N1957304 OUT_IN+ R_NOISELESS 10M
R_RA3_IN2         N1937990 OUT_IN- R_NOISELESS 10M
R_RDUMMY2         MID OUT_AMP1 R_NOISELESS 70K
R_RPSR1         N2013478 N2013470 R_NOISELESS 1K
R_RSRC1         MID N2008563 R_NOISELESS 1
R_RSRC2         MID N1992700 R_NOISELESS 1
R_RX2         OUT_AMP1 N1936144 R_NOISELESS 700K
R_RZO1         N1933148 N1932422 R_NOISELESS 16.36K
R_RZO10         MID N1933733 R_NOISELESS 1
R_RZO11         MID N1935319 R_NOISELESS 1
R_RZO12         MID N1936060 R_NOISELESS 853
R_RZO13         MID N1936144 R_NOISELESS 1
R_RZO2         N1935247 N1933733 R_NOISELESS 52.5K
R_RZO3         N1933415 N1933148 R_NOISELESS 10K
R_RZO4         N1935287 N1935247 R_NOISELESS 10K
R_RZO5         N1931868 N1931165 R_NOISELESS 100K
R_RZO6         N1936060 N1935319 R_NOISELESS 10K
R_RZO7         MID N1931165 R_NOISELESS 1
R_RZO8         MID N1931868 R_NOISELESS 675.1
R_RZO9         MID N1932422 R_NOISELESS 1
R_VOUTS1         VOUT_S N2025791 R_NOISELESS 100
R_VOUTS2         MID N2025791 R_NOISELESS 1T
V_VCM_MAX5         N1990860 VCC_B -0.9VDC
V_VCM_MIN5         N1991030 VEE_B 0.1VDC
V_V_GRN_INP2         N2179494 MID -145
V_V_GRP_INP2         N2179224 MID 140
V_V_ISCN1         N2123137 MID -15
V_V_ISCP1         N2122903 MID 14
V_V_ORN1         N2174357 VCLP -0.1
V_V_ORP1         N2174433 VCLP 0.1
X_H1    N2174391 N2174063 V11 MID INA823_A3_H1 
X_H2    N2174405 N2174101 V12 MID INA823_A3_H2 
X_H3    OUT_AMP1 OUT_AMP N1960143 MID INA823_A3_H3 
X_S1    CLAMP N2174101 CLAMP N2174405 INA823_A3_S1 
X_S2    N2174063 CLAMP N2174391 CLAMP INA823_A3_S2 
X_U27         N2179224 N2179494 N2179218 MID N2179232 N2179456 CLAMP_AMP_HI_INA823_A3
+  PARAMS:  G=10
X_U28         N2179236 N2179470 CLAMP MID GR_SRC_INA823_A3 PARAMS:  GAIN=1 IPOS=0.326E1
+  INEG=-0.326E1
X_U29         MID N2174699 N2174685 N2174763 OL_SENSE_INA823_A3
X_U30         SW_OL_INA823_A3 MID N1931165 N1931868 SW_OL_INA823_A3
X_U31         VIMON_OUT MID N2097863 VCC_B CLAWP_INA823_A3
X_U32         VCC_CLP VEE_CLP VOUT_S MID N2108102 N2108290 CLAMP_AMP_LO_INA823_A3 PARAMS:
+   G=1
X_U33         N2108106 N2108304 CLAW_CLAMP MID CLAW_SRC_INA823_A3 PARAMS:  GAIN=1
+  IPOS=2.5 INEG=-2.5
X_U34         N2122903 N2123137 VIMON_OUT MID N2122911 N2123099 CLAMP_AMP_LO_INA823_A3
+  PARAMS:  G=1
X_U35         N2122915 N2123113 CL_CLAMP MID CL_SRC_INA823_A3 PARAMS:  GAIN=1 IPOS=5
+  INEG=-5
X_U36         OUT_AMP VCC VEE ESD_OUT_INA823_A3
X_U37         MID VIMON_OUT VEE_B N2097985 CLAWN_INA823_A3
X_U38         VIMON_OUT MID VCC MID IQ_SRC_INA823_A3 PARAMS:  GAIN=1E-3
X_U39         MID VIMON_OUT MID VEE IQ_SRC_INA823_A3 PARAMS:  GAIN=1E-3
X_UA3_1         N1957304 N2014439 VNSE1_INA823_A3 PARAMS:  FLW=100M NLF=180 NVR=10
X_UA3_3         N2013478 MID N1990940 MID N1990860 N1991030 VCM_CLAMP_INA823_A3 PARAMS: 
+  GAIN=1
X_UA3_4         N1987893 N1937990 MID N1938005 AOL_1_INA823_A3 PARAMS:  GAIN=6E-3 IPOS=.5
+  INEG=-.5
X_UA3_5         N1938005 MID MID CLAMP AOL_2_INA823_A3 PARAMS:  GAIN=4.576E-4 IPOS=90.05M
+  INEG=-90.12M
X_UA3_7         N1936060 MID MID N1936144 ZO_SRC_INA823_A3 PARAMS:  GAIN=12.73 IPOS=20E3
+  INEG=-21E3
X_UA3_8         N2013470 N2014439 VOS_DRIFT_INA823_A3 PARAMS:  DC=78U POL=1 DRIFT=1E-06
.ENDS  INA823_A3
*
.SUBCKT AOL_1_INA823_A3 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1E-4 IPOS=.5 INEG=-.5
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  AOL_1_INA823_A3
*
.SUBCKT AOL_2_INA823_A3 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=20.36E-3 IPOS=0.163 INEG=-0.163
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  AOL_2_INA823_A3
*
.SUBCKT CLAMP_AMP_HI_INA823_A3 VC+ VC- VIN COM VO+ VO- PARAMS: G=10
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS  CLAMP_AMP_HI_INA823_A3
*
.SUBCKT CLAMP_AMP_LO_INA823_A3 VC+ VC- VIN COM VO+ VO- PARAMS: G=1
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS  CLAMP_AMP_LO_INA823_A3
*
.SUBCKT CLAWN_INA823_A3 VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {(V(VC+,VC-))} =
+(0, 8.80E-6)
+(3, 9.11E-5)
+(8, 2.06E-4)
+(11, 2.96E-4)
+(13, 4.51E-4)
+(13.88, 6.82E-4)
+(14.63, 1.04E-3)
.ENDS  CLAWN_INA823_A3
*
.SUBCKT CLAWP_INA823_A3 VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {(V(VC+,VC-))} =
+(0, 3.79E-5)
+(1, 8.90E-5)
+(4, 1.94E-4)
+(6, 2.72E-4)
+(9, 4.26E-4)
+(11, 5.47E-4)
+(12, 6.25E-4)
+(13, 7.49E-4)
+(13.88, 9.71E-4)
.ENDS  CLAWP_INA823_A3
*
.SUBCKT CLAW_SRC_INA823_A3 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1 IPOS=0.226E1 INEG=-0.226E1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  CLAW_SRC_INA823_A3
*
.SUBCKT CL_SRC_INA823_A3 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1 IPOS=0.452E1 INEG=-0.452E1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  CL_SRC_INA823_A3
*
.SUBCKT ESD_OUT_INA823_A3 OUT VCC VEE
.MODEL ESD_SW VSWITCH(RON=50 ROFF=1E12 VON=500E-3 VOFF=100E-3)
S1 VCC OUT OUT VCC ESD_SW
S2 OUT VEE VEE OUT ESD_SW
.ENDS  ESD_OUT_INA823_A3
*
.SUBCKT GR_SRC_INA823_A3 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1 IPOS=0.326E1 INEG=-0.326E1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  GR_SRC_INA823_A3
*
.SUBCKT INA823_A3_H1 1 2 3 4  
H_H1         3 4 VH_H1 -1
VH_H1         1 2 0V
.ENDS  INA823_A3_H1
*
.SUBCKT INA823_A3_H2 1 2 3 4  
H_H2         3 4 VH_H2 1
VH_H2         1 2 0V
.ENDS  INA823_A3_H2
*
.SUBCKT INA823_A3_H3 1 2 3 4  
H_H3         3 4 VH_H3 1K
VH_H3         1 2 0V
.ENDS  INA823_A3_H3
*
.SUBCKT INA823_A3_S1 1 2 3 4  
S_S1         3 4 1 2 _S1
RS_S1         1 2 1G
.MODEL         _S1 VSWITCH ROFF=1E12 RON=1 VOFF=0.0V VON=10MV
.ENDS  INA823_A3_S1
*
.SUBCKT INA823_A3_S2 1 2 3 4  
S_S2         3 4 1 2 _S2
RS_S2         1 2 1G
.MODEL         _S2 VSWITCH ROFF=1E12 RON=1 VOFF=0.0V VON=10MV
.ENDS  INA823_A3_S2
*
.SUBCKT IQ_SRC_INA823_A3 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1E-3
G1 IOUT+ IOUT- VALUE={IF( (V(VC+,VC-)<=0),0,GAIN*V(VC+,VC-) )}
.ENDS  IQ_SRC_INA823_A3
*
.SUBCKT OL_SENSE_INA823_A3 COM SW+ OLN OLP
GSW+ COM SW+ VALUE = {IF((V(OLN,COM)>10E-3 | V(OLP,COM)>10E-3),1,0)}
.ENDS  OL_SENSE_INA823_A3
*
.SUBCKT SW_OL_INA823_A3 SW_OL_INA823_A3 MID CAP_L CAP_R
.MODEL OL_SW VSWITCH(RON=1E-3 ROFF=1E12 VON=900E-3 VOFF=800E-3)
S1 CAP_L CAP_R SW_OL_INA823_A3 MID OL_SW
.ENDS  SW_OL_INA823_A3
*
.SUBCKT VCM_CLAMP_INA823_A3 VIN+ VIN- IOUT- IOUT+ VP+ VP- PARAMS: GAIN=1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VIN+,VIN-),V(VP-,VIN-), V(VP+,VIN-))}
.ENDS  VCM_CLAMP_INA823_A3
*
.SUBCKT VNSE1_INA823_A3 1 2 PARAMS: FLW=1 NLF=120 NVR=18
.PARAM GLF={PWR(FLW,0.25)*NLF/1164}
.PARAM RNV={1.184*PWR(NVR,2)}
.MODEL DVN D KF={PWR(FLW,0.5)/1E11} IS=1.0E-16
I1 0 7 10E-3
I2 0 8 10E-3
D1 7 0 DVN
D2 8 0 DVN
E1 3 6 7 8 {GLF}
R1 3 0 1E9
R2 3 0 1E9
R3 3 6 1E9
E2 6 4 5 0 10
R4 5 0 {RNV}
R5 5 0 {RNV}
R6 3 4 1E9
R7 4 0 1E9
E3 1 2 3 4 1
.ENDS  VNSE1_INA823_A3
*
.SUBCKT VOS_DRIFT_INA823_A3 VOS+ VOS- PARAMS: DC=496.4E-6 POL=1 DRIFT=2E-06
E1 VOS+ VOS- VALUE={DC+POL*DRIFT*(TEMP-27)}
.ENDS  VOS_DRIFT_INA823_A3
*
.SUBCKT ZO_SRC_INA823_A3 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=200 IPOS=14.5E5 INEG=-14.5E5
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  ZO_SRC_INA823_A3
*
*
*
*
******************************************************
.subckt INA823_A1 INP_IN+ INP_IN- INP_OUT MID VCC VCC_B VEE VEE_B
******************************************************
*
C_CA1_1         VCLP_INP MID  1P   
C_CA1_10         MID N1997708  1F   
C_CA1_11         N1991065 MID  1F   
C_CA1_12         MID N1991199  1F   
C_CA1_13         MID N1993605  1F   
C_CA1_14         MID N1997906  1F   
C_CA1_15         MID N2005029  1F   
C_CA1_16         MID N2005047  1F   
C_CA1_17         MID N2005275  1F   
C_CA1_2         MID CLAMP_INP  1.25U   
C_CA1_21         MID N2115894  1P   
C_CA1_22         MID SW_OL_INP  1N   
C_CA1_23         MID N2115816  1P   
C_CA1_3         MID N1936581  32.5N   
C_CA1_4         MID N1936585  50F   
C_CA1_5         MID N1936607  18F   
C_CA1_6         MID N1937560  18F   
C_CA1_7         MID INP_AOL  15F   
C_CA1_8         VIMON_INP MID  1P   
C_CA1_9         MID N1993409  1F   
C_CA1_CMN1         MID N1941522  8.5P   
C_CA1_CMP1         N1941454 MID  8.5P   
C_CA1_VOUTS1         VOUT_S_INP MID  1P   
C_CA1_ZO1         N1938791 N1938801  5.49N   
C_CA1_ZO2         N1938811 N1938821  118P   
E_EA1_1         N2072729 MID CLAW_CLAMP_INP MID 1
E_EA1_2         N1989962 MID INP_OUT MID 1
G_GA1_1         VSENSE_INP MID CLAMP_INP MID -1M
G_GA1_10         VEE_CLP_INP MID N1991199 MID -1M
G_GA1_11         N2115194 MID N2115488 MID -1
G_GA1_12         N2115232 MID N2115564 MID -1
G_GA1_2         N1936563 MID VSENSE_INP MID -1
G_GA1_3         N1936585 MID N1951748 MID -1U
G_GA1_4         N1936607 MID N1936585 MID -1U
G_GA1_5         N1937560 MID N1936607 MID -1U
G_GA1_6         INP_AOL MID N1937560 MID -1U
G_GA1_7         CL_CLAMP_INP MID INP_AOL MID -1M
G_GA1_8         CLAW_CLAMP_INP MID CL_CLAMP_INP MID -1M
G_GA1_9         VCC_CLP_INP MID N1991065 MID -1M
G_GA1_AOLZO1         N1938791 MID CLAW_CLAMP_INP INP_OUT1 -88.9
G_GA1_AOLZO2         N1938811 MID N1938801 MID -44.83
R_RA1_1         N2072729 VCLP_INP R_NOISELESS 100
R_RA1_10         MID N1937560 R_NOISELESS 1MEG
R_RA1_11         MID INP_AOL R_NOISELESS 1MEG
R_RA1_12         MID CL_CLAMP_INP R_NOISELESS 1K
R_RA1_13         MID CLAW_CLAMP_INP R_NOISELESS 1K
R_RA1_14         N1959915 VIMON_INP R_NOISELESS 100
R_RA1_15         MID N1959915 R_NOISELESS 1T
R_RA1_16         VCC_CLP_INP MID R_NOISELESS 1T
R_RA1_17         N1993405 MID R_NOISELESS 1
R_RA1_18         N1997696 MID R_NOISELESS 1T
R_RA1_19         N1997704 MID R_NOISELESS 1
R_RA1_2         N1951748 N1936563 R_NOISELESS 6.9K
R_RA1_20         VCC_B N1991055 R_NOISELESS 1K
R_RA1_21         MID VCC_CLP_INP R_NOISELESS 1K
R_RA1_22         N1991055 N1991065 R_NOISELESS 1M
R_RA1_23         N1993409 N1993405 R_NOISELESS 1M
R_RA1_24         N1997708 N1997704 R_NOISELESS 1M
R_RA1_25         N1997906 N1997892 R_NOISELESS 1M
R_RA1_26         N1993605 N1993591 R_NOISELESS 1M
R_RA1_27         N1991177 N1991199 R_NOISELESS 1M
R_RA1_28         N1991177 VEE_B R_NOISELESS 1K
R_RA1_29         VEE_CLP_INP MID R_NOISELESS 1K
R_RA1_3         N1936581 N1951748 R_NOISELESS 10K
R_RA1_30         VEE_CLP_INP MID R_NOISELESS 1T
R_RA1_31         N1993591 MID R_NOISELESS 1
R_RA1_32         N1997930 MID R_NOISELESS 1T
R_RA1_33         N1997892 MID R_NOISELESS 1
R_RA1_34         N2005035 MID R_NOISELESS 1T
R_RA1_35         N2005043 MID R_NOISELESS 1
R_RA1_36         N2005029 VSENSE_INP R_NOISELESS 1M
R_RA1_37         N2005047 N2005043 R_NOISELESS 1M
R_RA1_38         N2005275 N2005261 R_NOISELESS 1M
R_RA1_39         N2005299 MID R_NOISELESS 1T
R_RA1_4         MID N1936509 R_NOISELESS 1MEG
R_RA1_40         N2005261 MID R_NOISELESS 1
R_RA1_5         MID CLAMP_INP R_NOISELESS 1MEG
R_RA1_50         N2115194 MID R_NOISELESS 1
R_RA1_51         N2115232 MID R_NOISELESS 1
R_RA1_52         V11 N2115816 R_NOISELESS 100
R_RA1_53         N2115830 SW_OL_INP R_NOISELESS 100
R_RA1_54         V12 N2115894 R_NOISELESS 100
R_RA1_55         N2115830 MID R_NOISELESS 1
R_RA1_6         MID VSENSE_INP R_NOISELESS 1K
R_RA1_7         MID N1936563 R_NOISELESS 1
R_RA1_8         MID N1936585 R_NOISELESS 1MEG
R_RA1_9         MID N1936607 R_NOISELESS 1MEG
R_RA1_CMP1         N1941454 MID R_NOISELESS 12G
R_RA1_CMP2         MID N1941522 R_NOISELESS 12G
R_RA1_INN1         N1941522 INP_IN- R_NOISELESS 10M
R_RA1_INP1         N1941454 INP_IN+ R_NOISELESS 10M
R_RA1_VOUTS1         VOUT_S_INP N1989962 R_NOISELESS 100
R_RA1_VOUTS2         MID N1989962 R_NOISELESS 1T
R_RA1_ZO1         N1938801 N1938791 R_NOISELESS 100K
R_RA1_ZO2         N1938821 N1938811 R_NOISELESS 10K
R_RA1_ZO3         MID N1938791 R_NOISELESS 1
R_RA1_ZO4         MID N1938801 R_NOISELESS 2.282K
R_RA1_ZO5         MID N1938811 R_NOISELESS 1
R_RA1_ZO6         MID N1938821 R_NOISELESS 11.74K
R_RA1_ZO7         MID N1939029 R_NOISELESS 1
R_RDUMMY1         MID INP_OUT1 R_NOISELESS 50K
R_RX1         INP_OUT1 N1939029 R_NOISELESS 500K
V_V_GRN_INP1         N2005299 MID -130
V_V_GRP_INP1         N2005035 MID 190
V_V_ISCN_INP1         N1997930 MID -31
V_V_ISCP_INP1         N1997696 MID 31
V_V_ORN_INP1         N2115488 VCLP_INP -0.2
V_V_ORP_INP1         N2115564 VCLP_INP 0.2
X_HA1_1    INP_OUT1 INP_OUT N1959915 MID INA823_A1_HA1_1 
X_HA1_2    N2115522 N2115194 V11 MID INA823_A1_HA1_2 
X_HA1_3    N2115536 N2115232 V12 MID INA823_A1_HA1_3 
X_SA1_1    N2115194 CLAMP N2115522 CLAMP INA823_A1_SA1_1 
X_SA1_2    CLAMP N2115232 CLAMP N2115536 INA823_A1_SA1_2 
X_UA1_1         N1941454 N1941522 MID N1936509 AOL_1_INA823_A1 PARAMS:  GAIN=1.7E-2
+  IPOS=.5 INEG=-.5
X_UA1_10         N1993409 N1993605 CLAW_CLAMP_INP MID CLAW_SRC_INA823_A1 PARAMS:  GAIN=1
+  IPOS=500E-3 INEG=-500E-3
X_UA1_11         N1997696 N1997930 VIMON_INP MID N1997704 N1997892 CLAMP_AMP_LO_INA823_A1
+  PARAMS:  G=1
X_UA1_12         N1997708 N1997906 CL_CLAMP_INP MID CL_SRC_INA823_A1 PARAMS:  GAIN=1
+  IPOS=1 INEG=-1
X_UA1_13         MID VIMON_INP VEE_B N1991177 CLAWN_A1_INA823_A1
X_UA1_14         N2005035 N2005299 N2005029 MID N2005043 N2005261 CLAMP_AMP_HI_INA823_A1
+  PARAMS:  G=10
X_UA1_15         N2005047 N2005275 CLAMP_INP MID GR_SRC_INA823_A1 PARAMS:  GAIN=1 IPOS=52
+  INEG=-52
X_UA1_16         MID N2115830 N2115816 N2115894 OL_SENSE_INA823_A1
X_UA1_2         N1936509 MID MID CLAMP_INP AOL_2_INA823_A1 PARAMS:  GAIN=5.62E-03 IPOS=26
+  INEG=-26
X_UA1_3         SW_OL_INP MID N1938791 N1938801 SW_OL_INA823_A1
X_UA1_4         VIMON_INP MID VCC MID IQ_SRC_INA823_A1 PARAMS:  GAIN=1E-3
X_UA1_5         MID VIMON_INP MID VEE IQ_SRC_INA823_A1 PARAMS:  GAIN=1E-3
X_UA1_6         N1938821 MID MID N1939029 ZO_SRC_INA823_A1 PARAMS:  GAIN=1.852 IPOS=30E3
+  INEG=-30E3
X_UA1_7         INP_OUT VCC_B VEE_B ESD_OUT_INA823_A1
X_UA1_8         VIMON_INP MID N1991055 VCC_B CLAWP_A1_INA823_A1
X_UA1_9         VCC_CLP_INP VEE_CLP_INP VOUT_S_INP MID N1993405 N1993591
+  CLAMP_AMP_LO_INA823_A1 PARAMS:  G=1
.ENDS  INA823_A1
*
.SUBCKT AOL_1_INA823_A1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1E-4 IPOS=.5 INEG=-.5
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  AOL_1_INA823_A1
*
.SUBCKT AOL_2_INA823_A1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=20.36E-3 IPOS=0.163 INEG=-0.163
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  AOL_2_INA823_A1
*
.SUBCKT CLAMP_AMP_HI_INA823_A1 VC+ VC- VIN COM VO+ VO- PARAMS: G=10
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS  CLAMP_AMP_HI_INA823_A1
*
.SUBCKT CLAMP_AMP_LO_INA823_A1 VC+ VC- VIN COM VO+ VO- PARAMS: G=1
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS  CLAMP_AMP_LO_INA823_A1
*
.SUBCKT CLAWN_A1_INA823_A1 VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {(V(VC+,VC-))} =
+(00, 1.45E-4)
+(07, 6.62E-4)
+(20, 1.72E-3)
+(26, 2.27E-3)
+(28, 2.67E-3)
+(29, 2.87E-3)
+(30, 3.87E-2)
+(30.5, 1.8E-2)
+(31, 3.54E-2)
.ENDS  CLAWN_A1_INA823_A1
*
.SUBCKT CLAWP_A1_INA823_A1 VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {(V(VC+,VC-))} =
+(00, 1.45E-4)
+(07, 6.62E-4)
+(20, 1.72E-3)
+(26, 2.27E-3)
+(28, 2.67E-3)
+(29, 2.87E-3)
+(30, 3.87E-2)
+(30.5, 1.8E-2)
+(31, 3.54E-2)
.ENDS  CLAWP_A1_INA823_A1
*
.SUBCKT CLAW_SRC_INA823_A1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1 IPOS=0.226E1 INEG=-0.226E1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  CLAW_SRC_INA823_A1
*
.SUBCKT CL_SRC_INA823_A1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1 IPOS=0.452E1 INEG=-0.452E1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  CL_SRC_INA823_A1
*
.SUBCKT ESD_OUT_INA823_A1 OUT VCC VEE
.MODEL ESD_SW VSWITCH(RON=50 ROFF=1E12 VON=500E-3 VOFF=100E-3)
S1 VCC OUT OUT VCC ESD_SW
S2 OUT VEE VEE OUT ESD_SW
.ENDS  ESD_OUT_INA823_A1
*
.SUBCKT GR_SRC_INA823_A1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1 IPOS=0.326E1 INEG=-0.326E1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  GR_SRC_INA823_A1
*
.SUBCKT INA823_A1_HA1_1 1 2 3 4  
H_HA1_1         3 4 VH_HA1_1 1K
VH_HA1_1         1 2 0V
.ENDS  INA823_A1_HA1_1
*
.SUBCKT INA823_A1_HA1_2 1 2 3 4  
H_HA1_2         3 4 VH_HA1_2 -1
VH_HA1_2         1 2 0V
.ENDS  INA823_A1_HA1_2
*
.SUBCKT INA823_A1_HA1_3 1 2 3 4  
H_HA1_3         3 4 VH_HA1_3 1
VH_HA1_3         1 2 0V
.ENDS  INA823_A1_HA1_3
*
.SUBCKT INA823_A1_SA1_1 1 2 3 4  
S_SA1_1         3 4 1 2 _SA1_1
RS_SA1_1         1 2 1G
.MODEL         _SA1_1 VSWITCH ROFF=1E12 RON=1 VOFF=0.0V VON=10MV
.ENDS  INA823_A1_SA1_1
*
.SUBCKT INA823_A1_SA1_2 1 2 3 4  
S_SA1_2         3 4 1 2 _SA1_2
RS_SA1_2         1 2 1G
.MODEL         _SA1_2 VSWITCH ROFF=1E12 RON=1 VOFF=0.0V VON=10MV
.ENDS  INA823_A1_SA1_2
*
.SUBCKT IQ_SRC_INA823_A1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1E-3
G1 IOUT+ IOUT- VALUE={IF( (V(VC+,VC-)<=0),0,GAIN*V(VC+,VC-) )}
.ENDS  IQ_SRC_INA823_A1
*
.SUBCKT OL_SENSE_INA823_A1 COM SW+ OLN OLP
GSW+ COM SW+ VALUE = {IF((V(OLN,COM)>10E-3 | V(OLP,COM)>10E-3),1,0)}
.ENDS  OL_SENSE_INA823_A1
*
.SUBCKT SW_OL_INA823_A1 SW_OL_INA823_A1 MID CAP_L CAP_R
.MODEL OL_SW VSWITCH(RON=1E-3 ROFF=1E12 VON=900E-3 VOFF=800E-3)
S1 CAP_L CAP_R SW_OL_INA823_A1 MID OL_SW
.ENDS  SW_OL_INA823_A1
*
.SUBCKT ZO_SRC_INA823_A1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=200 IPOS=14.5E5 INEG=-14.5E5
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  ZO_SRC_INA823_A1
*